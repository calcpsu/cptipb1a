Version 4
SHEET 1 1888 712
WIRE 80 32 -160 32
WIRE 192 32 80 32
WIRE 80 80 80 32
WIRE 192 80 192 32
WIRE -160 144 -160 32
WIRE 80 192 80 144
WIRE 80 192 0 192
WIRE 0 208 0 192
WIRE 192 208 192 144
WIRE 240 208 192 208
WIRE 336 208 240 208
WIRE 432 208 400 208
WIRE 528 208 432 208
WIRE 656 208 528 208
WIRE 912 208 656 208
WIRE 80 240 80 192
WIRE 192 240 192 208
WIRE 528 240 528 208
WIRE 432 288 432 208
WIRE -160 368 -160 224
WIRE 80 368 80 304
WIRE 80 368 -160 368
WIRE 192 368 192 304
WIRE 192 368 80 368
WIRE 848 368 816 368
WIRE 912 368 912 208
WIRE 1072 368 912 368
WIRE 1216 368 1136 368
WIRE 1280 368 1216 368
WIRE 1328 368 1280 368
WIRE 528 384 528 304
WIRE 704 384 528 384
WIRE 528 416 528 384
WIRE 576 416 528 416
WIRE 528 432 528 416
WIRE 576 432 576 416
WIRE 816 432 816 368
WIRE 1216 432 1216 368
WIRE 1328 432 1328 368
WIRE 432 496 432 352
WIRE 528 496 432 496
WIRE 576 496 528 496
WIRE 640 496 576 496
WIRE 704 496 640 496
WIRE 528 544 528 496
WIRE 704 576 704 496
WIRE 816 576 816 512
WIRE 816 576 704 576
WIRE 1072 576 816 576
WIRE 1216 576 1216 496
WIRE 1216 576 1136 576
WIRE 1328 576 1328 512
WIRE 1328 576 1216 576
WIRE 528 672 528 624
FLAG 0 208 0
FLAG 528 672 0
FLAG 1216 576 0
FLAG 240 208 vin
FLAG 656 208 bat_p
FLAG 640 496 bat_n
FLAG 1280 368 calc
FLAG 528 384 vcc
SYMBOL diode 96 144 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D1
SYMATTR Value 1N4148
SYMBOL diode 176 80 R0
SYMATTR InstName D2
SYMATTR Value 1N4148
SYMBOL diode 64 240 R0
SYMATTR InstName D3
SYMATTR Value 1N4148
SYMBOL diode 176 304 M180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D4
SYMATTR Value 1N4148
SYMBOL voltage -160 128 R0
WINDOW 123 0 0 Left 0
WINDOW 39 24 124 Left 2
SYMATTR InstName V1
SYMATTR Value sine(0 7 50)
SYMBOL Misc\\jumper 368 144 R0
SYMATTR InstName X1
SYMBOL schottky 512 240 R0
SYMATTR InstName D5
SYMATTR Value 1N5817
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL res 512 528 R0
SYMATTR InstName R1
SYMATTR Value 4.7
SYMBOL res 1312 416 R0
SYMATTR InstName R2
SYMATTR Value 20
SYMBOL cap 1200 432 R0
SYMATTR InstName C1
SYMATTR Value 47µ
SYMBOL Misc\\jumper 1104 304 R0
SYMATTR InstName X2
SYMBOL Misc\\jumper 1104 512 R0
SYMATTR InstName X3
SYMBOL zener 544 496 R180
WINDOW 0 24 64 Left 2
WINDOW 3 24 0 Left 2
SYMATTR InstName D6
SYMATTR Value UMZ5_1N
SYMATTR Description Diode
SYMATTR Type diode
SYMBOL cap 560 432 R0
SYMATTR InstName C2
SYMATTR Value 1µ
SYMBOL voltage 816 416 R0
SYMATTR InstName V2
SYMATTR Value 4.2
SYMBOL diode 848 384 R270
WINDOW 0 32 32 VTop 2
WINDOW 3 0 32 VBottom 2
SYMATTR InstName D7
SYMATTR Value max40203
SYMBOL cap 416 288 R0
SYMATTR InstName C3
SYMATTR Value 4400µ
SYMBOL res 688 400 R0
SYMATTR InstName R3
SYMATTR Value 100
TEXT -194 696 Left 2 !.tran 0 10 9.9
TEXT 720 648 Left 2 !.model max40203 D(Ron=0.1 Roff=10Meg Vfwd=0.05 Vrev=6.5)
